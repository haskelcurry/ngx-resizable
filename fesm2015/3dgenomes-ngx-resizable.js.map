{"version":3,"file":"3dgenomes-ngx-resizable.js","sources":["ng://@3dgenomes/ngx-resizable/lib/ngx-resizable.service.ts","ng://@3dgenomes/ngx-resizable/lib/window.service.ts","ng://@3dgenomes/ngx-resizable/lib/resizable/resizable.component.ts","ng://@3dgenomes/ngx-resizable/lib/resizable/drag.directive.ts","ng://@3dgenomes/ngx-resizable/lib/ngx-resizable.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxResizableService {\n\n  constructor() { }\n}\n","import { Injectable } from '@angular/core';\n\nfunction getWindow(): any {\n  return window;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxResizeableWindowRef {\n  get nativeWindow(): any {\n    return getWindow();\n  }\n}\n","import { Component, OnInit, HostBinding, Input, ElementRef, ViewEncapsulation, Output, EventEmitter, AfterViewInit } from '@angular/core';\nimport { NgxResizeableWindowRef } from '../window.service';\nimport { Point } from './drag.directive';\n\n@Component({\n  selector: 'rsz-layout',\n  templateUrl: 'resizable.component.html',\n  styleUrls: ['resizable.component.scss'],\n  providers: [ { provide: 'Window', useValue: window } ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ResizableComponent implements OnInit, AfterViewInit {\n\n  @HostBinding('class.resizable') resizable = true;\n  @HostBinding('class.no-transition') noTransition = false;\n  @HostBinding('style.width') width;\n  @HostBinding('style.height') height;\n  @HostBinding('style.flex-basis') flexBasis;\n\n  @Input() directions;\n  @Input() rFlex = false;\n\n  @Output() resizeStart = new EventEmitter();\n  @Output() resizing = new EventEmitter();\n  @Output() resizeEnd = new EventEmitter();\n\n  private nativeElement;\n\n  private style;\n\n  private w;\n  private h;\n\n  private vx = 1;\n  private vy = 1;\n\n  private start;\n\n  private dragDir;\n\n  private axis;\n\n  private info = {};\n\n  constructor(private regionElement: ElementRef, private windowRef: NgxResizeableWindowRef) {\n    this.nativeElement = this.regionElement.nativeElement;\n  }\n\n  ngOnInit() {\n    if (!this.rFlex) { this.resizable = false; } // Added to permit use of component for all cells\n    this.flexBasis = 'flexBasis' in this.nativeElement.style ? 'flexBasis' :\n      'webkitFlexBasis' in this.nativeElement.style ? 'webkitFlexBasis' :\n      'msFlexPreferredSize' in this.nativeElement.style ? 'msFlexPreferredSize' : 'flexBasis';\n  }\n\n  ngAfterViewInit() {\n    this.style = this.windowRef.nativeWindow.getComputedStyle(this.nativeElement);\n  }\n\n  private updateInfo(p: Point) {\n    this.info['width'] = false; this.info['height'] = false;\n    if (this.axis === 'x') {\n      this.info['width'] = parseInt(this.nativeElement.style[this.rFlex ? this.flexBasis : 'width'], 10);\n    } else {\n      this.info['height'] = parseInt(this.nativeElement.style[this.rFlex ? this.flexBasis : 'height'], 10);\n    }\n    this.info['id'] = this.nativeElement.id;\n    this.info['point'] = p;\n  }\n\n  public dragStart(p: Point, direction) {\n    this.dragDir = direction;\n    this.axis = (this.dragDir === 'left' || this.dragDir === 'right') ? 'x' : 'y';\n    this.start = (this.axis === 'x' ? p.x : p.y);\n    this.w = parseInt(this.style.getPropertyValue('width'), 10);\n    this.h = parseInt(this.style.getPropertyValue('height'), 10);\n\n    this.resizeStart.emit({ info: this.info });\n\n    // prevent transition while dragging\n    this.noTransition = true;\n  }\n\n  public dragEnd(p: Point) {\n    this.updateInfo(p);\n    this.resizeEnd.emit({ info: this.info });\n    this.noTransition = false;\n  }\n\n  public dragging(p: Point) {\n    const offset = (this.axis === 'x') ? this.start - p.x : this.start - p.y;\n\n    let operand = 1;\n    switch (this.dragDir) {\n      case 'top':\n        operand = -1;\n        /* falls through */\n      case 'bottom':\n        const height = (this.h - offset * this.vy * operand) + 'px';\n        if (this.rFlex) {\n          this.flexBasis = height;\n        } else {\n          this.height = height;\n        }\n        break;\n      case 'left':\n        operand = -1;\n        /* falls through */\n      case 'right':\n        const width = (this.w - offset * this.vx * operand) + 'px';\n        if (this.rFlex) {\n          this.flexBasis = width;\n        } else {\n          this.width = width;\n        }\n        break;\n    }\n    this.updateInfo(p);\n    this.resizing.emit({ info: this.info });\n  }\n}\n","import { Directive, Output, EventEmitter, HostListener } from '@angular/core';\n\nexport type Point = {x: number, y: number};\n\n@Directive({\n  selector: '[rszDragHandle]'\n})\nexport class DragDirective {\n\n  @Output() DragStart = new EventEmitter<Point>();\n  @Output() Drag = new EventEmitter<Point>();\n  @Output() DragEnd = new EventEmitter<Point>();\n\n  private dragging = false;\n\n  @HostListener('mousedown', ['$event'])\n  onMousedown(e: MouseEvent) {\n    if (e.which === 1) {\n      this.dragging = true;\n      this.DragStart.emit({ x: e.clientX, y: e.clientY });\n    }\n  }\n  @HostListener('touchstart', ['$event'])\n  onTouchstart(e: TouchEvent) {\n    const touch = e.touches[0];\n    this.dragging = true;\n    this.DragStart.emit({ x: touch.clientX, y: touch.clientY });\n  }\n\n  @HostListener('document:mouseup', ['$event'])\n  onMouseup(e: MouseEvent) {\n    if (this.dragging) {\n      this.DragEnd.emit({ x: e.clientX, y: e.clientY });\n    }\n    this.dragging = false;\n  }\n  @HostListener('document:touchend', ['$event'])\n  @HostListener('document:touchcancel', ['$event'])\n  onTouchend(e: TouchEvent) {\n    if (this.dragging) {\n      const touch = e.changedTouches[0];\n      this.DragEnd.emit({ x: touch.clientX, y: touch.clientY });\n    }\n    this.dragging = false;\n  }\n\n  @HostListener('document:mousemove', ['$event'])\n  onMousemove(e: MouseEvent) {\n    if (this.dragging) {\n      this.Drag.emit({ x: e.clientX, y: e.clientY });\n    }\n  }\n  @HostListener('document:touchmove', ['$event'])\n  onTouchmove(e: TouchEvent) {\n    if (this.dragging) {\n      const touch = e.touches[0];\n      this.Drag.emit({ x: touch.clientX, y: touch.clientY });\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ResizableComponent } from './resizable/resizable.component';\nimport { DragDirective } from './resizable/drag.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    ResizableComponent,\n    DragDirective\n  ],\n  exports: [\n    ResizableComponent,\n    DragDirective\n  ]\n})\nexport class NgxResizableModule { }\n"],"names":[],"mappings":";;;;;;;AAAA,MAKa,mBAAmB;IAE9B,iBAAiB;;;YALlB,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;ACJD;;;AAEA,SAAS,SAAS;IAChB,OAAO,MAAM,CAAC;CACf;AAKD,MAAa,sBAAsB;;;;IACjC,IAAI,YAAY;QACd,OAAO,SAAS,EAAE,CAAC;KACpB;;;YANF,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;ACRD,WAQ8C,MAAM;AAGpD,MAAa,kBAAkB;;;;;IAiC7B,YAAoB,aAAyB,EAAU,SAAiC;QAApE,kBAAa,GAAb,aAAa,CAAY;QAAU,cAAS,GAAT,SAAS,CAAwB;QA/BxD,cAAS,GAAG,IAAI,CAAC;QACb,iBAAY,GAAG,KAAK,CAAC;QAMhD,UAAK,GAAG,KAAK,CAAC;QAEb,gBAAW,GAAG,IAAI,YAAY,EAAE,CAAC;QACjC,aAAQ,GAAG,IAAI,YAAY,EAAE,CAAC;QAC9B,cAAS,GAAG,IAAI,YAAY,EAAE,CAAC;QASjC,OAAE,GAAG,CAAC,CAAC;QACP,OAAE,GAAG,CAAC,CAAC;QAQP,SAAI,GAAG,EAAE,CAAC;QAGhB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;KACvD;;;;IAED,QAAQ;QACN,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YAAE,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SAAE;QAC5C,IAAI,CAAC,SAAS,GAAG,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,WAAW;YACpE,iBAAiB,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,iBAAiB;gBACjE,qBAAqB,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,qBAAqB,GAAG,WAAW,CAAC;KAC3F;;;;IAED,eAAe;QACb,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KAC/E;;;;;;IAEO,UAAU,CAAC,CAAQ;QACzB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;QAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC;QACxD,IAAI,IAAI,CAAC,IAAI,KAAK,GAAG,EAAE;YACrB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC;SACpG;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC;SACtG;QACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;KACxB;;;;;;IAEM,SAAS,CAAC,CAAQ,EAAE,SAAS;QAClC,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;QACzB,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,KAAK,MAAM,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,IAAI,GAAG,GAAG,GAAG,CAAC;QAC9E,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7C,IAAI,CAAC,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC;QAC5D,IAAI,CAAC,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC;QAE7D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;;QAG3C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;KAC1B;;;;;IAEM,OAAO,CAAC,CAAQ;QACrB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;QACzC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;KAC3B;;;;;IAEM,QAAQ,CAAC,CAAQ;;cAChB,MAAM,GAAG,CAAC,IAAI,CAAC,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;;YAEpE,OAAO,GAAG,CAAC;QACf,QAAQ,IAAI,CAAC,OAAO;YAClB,KAAK,KAAK;gBACR,OAAO,GAAG,CAAC,CAAC,CAAC;;YAEf,KAAK,QAAQ;;sBACL,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO,IAAI,IAAI;gBAC3D,IAAI,IAAI,CAAC,KAAK,EAAE;oBACd,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;iBACzB;qBAAM;oBACL,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;iBACtB;gBACD,MAAM;YACR,KAAK,MAAM;gBACT,OAAO,GAAG,CAAC,CAAC,CAAC;;YAEf,KAAK,OAAO;;sBACJ,KAAK,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO,IAAI,IAAI;gBAC1D,IAAI,IAAI,CAAC,KAAK,EAAE;oBACd,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;iBACxB;qBAAM;oBACL,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;iBACpB;gBACD,MAAM;SACT;QACD,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACnB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;KACzC;;;YAnHF,SAAS,SAAC;gBACT,QAAQ,EAAE,YAAY;gBACtB,gSAAuC;gBAEvC,SAAS,EAAE,CAAE,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,IAAQ,EAAE,CAAE;gBACtD,aAAa,EAAE,iBAAiB,CAAC,IAAI;;aACtC;;;;YAV+C,UAAU;YACjD,sBAAsB;;;wBAY5B,WAAW,SAAC,iBAAiB;2BAC7B,WAAW,SAAC,qBAAqB;oBACjC,WAAW,SAAC,aAAa;qBACzB,WAAW,SAAC,cAAc;wBAC1B,WAAW,SAAC,kBAAkB;yBAE9B,KAAK;oBACL,KAAK;0BAEL,MAAM;uBACN,MAAM;wBACN,MAAM;;;;;;;ACxBT,MAOa,aAAa;IAH1B;QAKY,cAAS,GAAG,IAAI,YAAY,EAAS,CAAC;QACtC,SAAI,GAAG,IAAI,YAAY,EAAS,CAAC;QACjC,YAAO,GAAG,IAAI,YAAY,EAAS,CAAC;QAEtC,aAAQ,GAAG,KAAK,CAAC;KA8C1B;;;;;IA3CC,WAAW,CAAC,CAAa;QACvB,IAAI,CAAC,CAAC,KAAK,KAAK,CAAC,EAAE;YACjB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;SACrD;KACF;;;;;IAED,YAAY,CAAC,CAAa;;cAClB,KAAK,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;KAC7D;;;;;IAGD,SAAS,CAAC,CAAa;QACrB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;SACnD;QACD,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;KACvB;;;;;IAGD,UAAU,CAAC,CAAa;QACtB,IAAI,IAAI,CAAC,QAAQ,EAAE;;kBACX,KAAK,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;SAC3D;QACD,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;KACvB;;;;;IAGD,WAAW,CAAC,CAAa;QACvB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;SAChD;KACF;;;;;IAED,WAAW,CAAC,CAAa;QACvB,IAAI,IAAI,CAAC,QAAQ,EAAE;;kBACX,KAAK,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;SACxD;KACF;;;YAtDF,SAAS,SAAC;gBACT,QAAQ,EAAE,iBAAiB;aAC5B;;;wBAGE,MAAM;mBACN,MAAM;sBACN,MAAM;0BAIN,YAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;2BAOpC,YAAY,SAAC,YAAY,EAAE,CAAC,QAAQ,CAAC;wBAOrC,YAAY,SAAC,kBAAkB,EAAE,CAAC,QAAQ,CAAC;yBAO3C,YAAY,SAAC,mBAAmB,EAAE,CAAC,QAAQ,CAAC,cAC5C,YAAY,SAAC,sBAAsB,EAAE,CAAC,QAAQ,CAAC;0BAS/C,YAAY,SAAC,oBAAoB,EAAE,CAAC,QAAQ,CAAC;0BAM7C,YAAY,SAAC,oBAAoB,EAAE,CAAC,QAAQ,CAAC;;;;;;;ACpDhD,MAkBa,kBAAkB;;;YAb9B,QAAQ,SAAC;gBACR,OAAO,EAAE;oBACP,YAAY;iBACb;gBACD,YAAY,EAAE;oBACZ,kBAAkB;oBAClB,aAAa;iBACd;gBACD,OAAO,EAAE;oBACP,kBAAkB;oBAClB,aAAa;iBACd;aACF;;;;;"}