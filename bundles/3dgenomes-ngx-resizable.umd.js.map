{"version":3,"file":"3dgenomes-ngx-resizable.umd.js","sources":["ng://@3dgenomes/ngx-resizable/lib/ngx-resizable.service.ts","ng://@3dgenomes/ngx-resizable/lib/window.service.ts","ng://@3dgenomes/ngx-resizable/lib/resizable/resizable.component.ts","ng://@3dgenomes/ngx-resizable/lib/resizable/drag.directive.ts","ng://@3dgenomes/ngx-resizable/lib/ngx-resizable.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxResizableService {\n\n  constructor() { }\n}\n","import { Injectable } from '@angular/core';\n\nfunction getWindow(): any {\n  return window;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxResizeableWindowRef {\n  get nativeWindow(): any {\n    return getWindow();\n  }\n}\n","import { Component, OnInit, HostBinding, Input, ElementRef, ViewEncapsulation, Output, EventEmitter, AfterViewInit } from '@angular/core';\nimport { NgxResizeableWindowRef } from '../window.service';\nimport { Point } from './drag.directive';\n\n@Component({\n  selector: 'rsz-layout',\n  templateUrl: 'resizable.component.html',\n  styleUrls: ['resizable.component.scss'],\n  providers: [ { provide: 'Window', useValue: window } ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ResizableComponent implements OnInit, AfterViewInit {\n\n  @HostBinding('class.resizable') resizable = true;\n  @HostBinding('class.no-transition') noTransition = false;\n  @HostBinding('style.width') width;\n  @HostBinding('style.height') height;\n  @HostBinding('style.flex-basis') flexBasis;\n\n  @Input() directions;\n  @Input() rFlex = false;\n\n  @Output() resizeStart = new EventEmitter();\n  @Output() resizing = new EventEmitter();\n  @Output() resizeEnd = new EventEmitter();\n\n  private nativeElement;\n\n  private style;\n\n  private w;\n  private h;\n\n  private vx = 1;\n  private vy = 1;\n\n  private start;\n\n  private dragDir;\n\n  private axis;\n\n  private info = {};\n\n  constructor(private regionElement: ElementRef, private windowRef: NgxResizeableWindowRef) {\n    this.nativeElement = this.regionElement.nativeElement;\n  }\n\n  ngOnInit() {\n    if (!this.rFlex) { this.resizable = false; } // Added to permit use of component for all cells\n    this.flexBasis = 'flexBasis' in this.nativeElement.style ? 'flexBasis' :\n      'webkitFlexBasis' in this.nativeElement.style ? 'webkitFlexBasis' :\n      'msFlexPreferredSize' in this.nativeElement.style ? 'msFlexPreferredSize' : 'flexBasis';\n  }\n\n  ngAfterViewInit() {\n    this.style = this.windowRef.nativeWindow.getComputedStyle(this.nativeElement);\n  }\n\n  private updateInfo(p: Point) {\n    this.info['width'] = false; this.info['height'] = false;\n    if (this.axis === 'x') {\n      this.info['width'] = parseInt(this.nativeElement.style[this.rFlex ? this.flexBasis : 'width'], 10);\n    } else {\n      this.info['height'] = parseInt(this.nativeElement.style[this.rFlex ? this.flexBasis : 'height'], 10);\n    }\n    this.info['id'] = this.nativeElement.id;\n    this.info['point'] = p;\n  }\n\n  public dragStart(p: Point, direction) {\n    this.dragDir = direction;\n    this.axis = (this.dragDir === 'left' || this.dragDir === 'right') ? 'x' : 'y';\n    this.start = (this.axis === 'x' ? p.x : p.y);\n    this.w = parseInt(this.style.getPropertyValue('width'), 10);\n    this.h = parseInt(this.style.getPropertyValue('height'), 10);\n\n    this.resizeStart.emit({ info: this.info });\n\n    // prevent transition while dragging\n    this.noTransition = true;\n  }\n\n  public dragEnd(p: Point) {\n    this.updateInfo(p);\n    this.resizeEnd.emit({ info: this.info });\n    this.noTransition = false;\n  }\n\n  public dragging(p: Point) {\n    const offset = (this.axis === 'x') ? this.start - p.x : this.start - p.y;\n\n    let operand = 1;\n    switch (this.dragDir) {\n      case 'top':\n        operand = -1;\n        /* falls through */\n      case 'bottom':\n        const height = (this.h - offset * this.vy * operand) + 'px';\n        if (this.rFlex) {\n          this.flexBasis = height;\n        } else {\n          this.height = height;\n        }\n        break;\n      case 'left':\n        operand = -1;\n        /* falls through */\n      case 'right':\n        const width = (this.w - offset * this.vx * operand) + 'px';\n        if (this.rFlex) {\n          this.flexBasis = width;\n        } else {\n          this.width = width;\n        }\n        break;\n    }\n    this.updateInfo(p);\n    this.resizing.emit({ info: this.info });\n  }\n}\n","import { Directive, Output, EventEmitter, HostListener } from '@angular/core';\n\nexport type Point = {x: number, y: number};\n\n@Directive({\n  selector: '[rszDragHandle]'\n})\nexport class DragDirective {\n\n  @Output() DragStart = new EventEmitter<Point>();\n  @Output() Drag = new EventEmitter<Point>();\n  @Output() DragEnd = new EventEmitter<Point>();\n\n  private dragging = false;\n\n  @HostListener('mousedown', ['$event'])\n  onMousedown(e: MouseEvent) {\n    if (e.which === 1) {\n      this.dragging = true;\n      this.DragStart.emit({ x: e.clientX, y: e.clientY });\n    }\n  }\n  @HostListener('touchstart', ['$event'])\n  onTouchstart(e: TouchEvent) {\n    const touch = e.touches[0];\n    this.dragging = true;\n    this.DragStart.emit({ x: touch.clientX, y: touch.clientY });\n  }\n\n  @HostListener('document:mouseup', ['$event'])\n  onMouseup(e: MouseEvent) {\n    if (this.dragging) {\n      this.DragEnd.emit({ x: e.clientX, y: e.clientY });\n    }\n    this.dragging = false;\n  }\n  @HostListener('document:touchend', ['$event'])\n  @HostListener('document:touchcancel', ['$event'])\n  onTouchend(e: TouchEvent) {\n    if (this.dragging) {\n      const touch = e.changedTouches[0];\n      this.DragEnd.emit({ x: touch.clientX, y: touch.clientY });\n    }\n    this.dragging = false;\n  }\n\n  @HostListener('document:mousemove', ['$event'])\n  onMousemove(e: MouseEvent) {\n    if (this.dragging) {\n      this.Drag.emit({ x: e.clientX, y: e.clientY });\n    }\n  }\n  @HostListener('document:touchmove', ['$event'])\n  onTouchmove(e: TouchEvent) {\n    if (this.dragging) {\n      const touch = e.touches[0];\n      this.Drag.emit({ x: touch.clientX, y: touch.clientY });\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ResizableComponent } from './resizable/resizable.component';\nimport { DragDirective } from './resizable/drag.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    ResizableComponent,\n    DragDirective\n  ],\n  exports: [\n    ResizableComponent,\n    DragDirective\n  ]\n})\nexport class NgxResizableModule { }\n"],"names":["Injectable","EventEmitter","Component","ViewEncapsulation","ElementRef","HostBinding","Input","Output","Directive","HostListener","NgModule","CommonModule"],"mappings":"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"}